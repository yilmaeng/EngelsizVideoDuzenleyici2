<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'">
  <title>Engelsiz Video DÃ¼zenleyicisi</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/wizard.css">
  <link rel="stylesheet" href="styles/cta-library.css">
  <link rel="stylesheet" href="styles/status-bar.css">
</head>

<body>
  <!-- EriÅŸilebilirlik: CanlÄ± bÃ¶lge - ekran okuyucular iÃ§in (minimal Ã¶zelliklerle) -->
  <div id="screen-reader-announcer" aria-live="polite" class="sr-only"></div>

  <!-- EriÅŸilebilirlik: Acil duyurular iÃ§in -->
  <div id="screen-reader-alert" aria-live="assertive" class="sr-only"></div>

  <main id="app-main" aria-label="Video dÃ¼zenleme alanÄ±">

    <!-- Sekme Ã‡ubuÄŸu -->
    <nav id="tab-bar" role="tablist" aria-label="AÃ§Ä±k dosyalar" style="display: none;"></nav>

    <!-- Durum Paneli -->
    <header id="status-panel" role="region" aria-label="Durum Paneli">
      <div id="file-info" aria-label="Dosya bilgisi">
        <span id="file-name">Dosya aÃ§Ä±lmadÄ±</span>
      </div>
      <div id="time-display" aria-label="Zaman bilgisi">
        <span id="current-time" aria-label="GeÃ§erli konum">00:00:00.000</span>
        <span class="separator">/</span>
        <span id="total-duration" aria-label="Toplam sÃ¼re">00:00:00.000</span>
      </div>
      <div id="playback-status" aria-label="Oynatma durumu">
        <span id="play-state">Durduruldu</span>
      </div>
      <div id="selection-info" aria-hidden="true">
        <span id="selection-status">SeÃ§im yok</span>
      </div>
    </header>

    <!-- Ana Ä°Ã§erik AlanÄ± -->
    <div id="main-content">

      <!-- Video AlanÄ± -->
      <section id="video-section" role="region" aria-label="Video">
        <div id="video-container">
          <video id="video-player" tabindex="-1" aria-label="Video oynatÄ±cÄ±" preload="metadata">
            TarayÄ±cÄ±nÄ±z video etiketini desteklemiyor.
          </video>
          <!-- CTA Overlay Preview (Real-time) -->
          <div id="cta-overlay-preview" class="cta-overlay-hidden" aria-hidden="true">
            <video id="cta-overlay-video" muted loop></video>
          </div>
          <div id="video-placeholder" aria-hidden="true">
            <p>Video yÃ¼klemek iÃ§in Ctrl+O tuÅŸlarÄ±na basÄ±n</p>
          </div>
        </div>
      </section>

      <!-- Bilgi Paneli -->
      <aside id="info-panel" role="complementary" aria-label="Video Bilgileri">
        <h2>Video Bilgileri</h2>
        <dl id="video-metadata">
          <dt>Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k:</dt>
          <dd id="meta-resolution">-</dd>
          <dt>Kare hÄ±zÄ±:</dt>
          <dd id="meta-framerate">-</dd>
          <dt>Codec:</dt>
          <dd id="meta-codec">-</dd>
          <dt>Dosya boyutu:</dt>
          <dd id="meta-size">-</dd>
        </dl>

        <h2>Ä°ÅŸaretÃ§iler</h2>
        <ul id="marker-list" role="listbox" aria-label="Ä°ÅŸaretÃ§i listesi" tabindex="0">
          <li class="empty-message">HenÃ¼z iÅŸaretÃ§i yok</li>
        </ul>
      </aside>

    </div>

    <!-- Zaman Ã‡izelgesi -->
    <section id="timeline-section" role="region" aria-label="Zaman Ã‡izelgesi">
      <div id="timeline-info">
        <span id="cursor-position">Ä°mleÃ§: 00:00:00.000</span>
        <span id="marker-count">Ä°ÅŸaretÃ§i: 0</span>
      </div>
      <div id="timeline-visual" aria-hidden="true">
        <div id="timeline-cursor"></div>
        <div id="timeline-selection"></div>
      </div>
    </section>

    <!-- Ä°lerleme Ã‡ubuÄŸu -->
    <div id="progress-overlay" class="hidden" role="dialog" aria-label="Ä°ÅŸlem durumu" aria-modal="true">
      <div id="progress-content">
        <p id="progress-message">Ä°ÅŸleniyor...</p>
        <progress id="progress-bar" max="100" value="0"></progress>
        <p id="progress-percent">%0</p>
      </div>
    </div>

  </main>

  <!-- Durum Ã‡ubuÄŸu (Status Bar) -->
  <footer id="app-status-bar" role="status" aria-live="polite" aria-atomic="true">
    <div class="status-left">
      <span id="status-bar-text">HazÄ±r</span>
      <span id="status-bar-percent"></span>
    </div>
    <div class="status-right">
      <span id="status-bar-log"></span>
    </div>
  </footer>

  <!-- Diyaloglar -->

  <!-- Klavye YÃ¶neticisi DiyaloÄŸu -->
  <dialog id="keyboard-manager-dialog" aria-labelledby="keyboard-manager-title"
    style="width: 800px; max-width: 95vw; height: 80vh;">
    <form method="dialog" style="height: 100%; display: flex; flex-direction: column;">
      <h2 id="keyboard-manager-title">Klavye YÃ¶neticisi</h2>
      <p class="dialog-description">KÄ±sayollarÄ± Ã¶zelleÅŸtirmek iÃ§in bir kategori seÃ§in ve saÄŸdaki listeden iÅŸlem yapÄ±n.
      </p>

      <div class="keyboard-manager-container"
        style="flex: 1; display: flex; gap: 20px; overflow: hidden; margin-bottom: 20px;">
        <!-- Kenar Ã‡ubuÄŸu (Kategoriler) -->
        <aside class="keyboard-sidebar"
          style="width: 200px; border-right: 1px solid #444; padding-right: 10px; overflow-y: auto;">
          <h3 style="margin-top: 0; font-size: 1.1rem; color: var(--accent-color);">Kategoriler</h3>
          <ul id="keyboard-categories-list" role="listbox" aria-label="KÄ±sayol kategorileri" tabindex="0"
            style="list-style: none; padding: 0; margin: 0;">
            <!-- JS ile doldurulacak -->
          </ul>
        </aside>

        <!-- Ä°Ã§erik AlanÄ± (KÄ±sayol Listesi) -->
        <main class="keyboard-content" id="keyboard-shortcuts-area" tabindex="0" role="region"
          aria-label="KÄ±sayol listesi" style="flex: 1; overflow-y: auto; padding-right: 10px;">
          <div id="keyboard-shortcuts-list-container">
            <ul id="keyboard-shortcuts-list" aria-label="KÄ±sayollar" style="list-style: none; padding: 0; margin: 0;">
              <!-- JS ile doldurulacak -->
            </ul>
          </div>
        </main>
      </div>

      <div class="dialog-buttons" style="display: flex; justify-content: space-between; align-items: center;">
        <div class="left-buttons" style="display: flex; gap: 10px;">
          <button type="button" id="keyboard-manager-export">DÄ±ÅŸa Aktar</button>
          <button type="button" id="keyboard-manager-import">Ä°Ã§e Aktar</button>
          <button type="button" id="keyboard-manager-reset-all">TÃ¼mÃ¼nÃ¼ SÄ±fÄ±rla</button>
        </div>
        <div class="right-buttons" style="display: flex; gap: 10px;">
          <button type="button" id="keyboard-manager-save">Kaydet ve Kapat</button>
          <button type="button" id="keyboard-manager-cancel">Ä°ptal</button>
        </div>
      </div>
    </form>
  </dialog>


  <!-- Zaman Koduna Git DiyaloÄŸu -->
  <dialog id="goto-dialog" aria-labelledby="goto-dialog-title">
    <form method="dialog">
      <h2 id="goto-dialog-title">Zaman Koduna Git</h2>
      <div class="form-group">
        <label for="goto-time-input">Zaman kodu (SS:DD:SN veya saniye):</label>
        <input type="text" id="goto-time-input" placeholder="00:00:00 veya 120" autofocus>
      </div>
      <div class="dialog-buttons">
        <button type="submit" id="goto-confirm">Git</button>
        <button type="button" id="goto-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- AralÄ±k SeÃ§ DiyaloÄŸu -->
  <dialog id="range-dialog" aria-labelledby="range-dialog-title">
    <form method="dialog">
      <h2 id="range-dialog-title">AralÄ±k SeÃ§</h2>
      <div class="form-group">
        <label for="range-start-input">BaÅŸlangÄ±Ã§ zamanÄ±:</label>
        <input type="text" id="range-start-input" placeholder="00:00:00">
      </div>
      <div class="form-group">
        <label for="range-end-input">BitiÅŸ zamanÄ±:</label>
        <input type="text" id="range-end-input" placeholder="00:00:00">
      </div>
      <div class="dialog-buttons">
        <button type="submit" id="range-confirm">SeÃ§</button>
        <button type="button" id="range-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Metin Ekle DiyaloÄŸu -->
  <dialog id="text-dialog" aria-labelledby="text-dialog-title">
    <form method="dialog">
      <h2 id="text-dialog-title">Metin Ekle</h2>
      <div class="form-group">
        <label for="text-content-input">Metin:</label>
        <textarea id="text-content-input" rows="3" placeholder="Eklenecek metni yazÄ±n..."></textarea>
      </div>
      <div class="form-group">
        <label for="text-font-size">YazÄ± boyutu:</label>
        <input type="number" id="text-font-size" value="24" min="8" max="200">
      </div>
      <div class="form-group">
        <label for="text-position">Konum:</label>
        <select id="text-position">
          <option value="top">Ãœst</option>
          <option value="bottom" selected>Alt</option>
        </select>
      </div>
      <div class="form-group">
        <label for="text-color">Renk:</label>
        <select id="text-color">
          <option value="white" selected>Beyaz</option>
          <option value="black">Siyah</option>
          <option value="yellow">SarÄ±</option>
          <option value="red">KÄ±rmÄ±zÄ±</option>
        </select>
      </div>
      <div class="dialog-buttons">
        <button type="submit" id="text-confirm">Ekle</button>
        <button type="button" id="text-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- GeliÅŸmiÅŸ Ses Ekleme DiyaloÄŸu -->
  <dialog id="audio-add-dialog" aria-labelledby="audio-add-dialog-title">
    <form method="dialog">
      <h2 id="audio-add-dialog-title">Ses Ekle</h2>

      <!-- Ses bilgisi -->
      <div class="form-group info-group">
        <p><strong>SeÃ§ilen Ses:</strong> <span id="audio-add-filename">-</span></p>
        <p><strong>Ses SÃ¼resi:</strong> <span id="audio-add-duration">-</span></p>
        <p><strong>Video SÃ¼resi:</strong> <span id="video-remaining-duration">-</span></p>
      </div>

      <!-- UyarÄ± alanÄ± -->
      <div id="audio-duration-warning" class="form-group warning-group hidden" role="alert">
        <p><strong>UyarÄ±:</strong> EklediÄŸiniz ses iÃ§eriÄŸi videonuzdan daha uzun. Ä°Ã§erik video bittiÄŸi noktadan itibaren
          kesilecek.</p>
      </div>

      <!-- Hedef (eklenen) ses seviyesi -->
      <div class="form-group">
        <label for="target-audio-volume">Eklenen Ses Seviyesi:</label>
        <input type="range" id="target-audio-volume" min="0" max="200" value="100"
          aria-describedby="target-volume-hint">
        <span id="target-audio-volume-value">%100</span>
        <p id="target-volume-hint" class="hint">Ok tuÅŸlarÄ±: Â±1, Page Up/Down: Â±10</p>
      </div>

      <!-- Kaynak (video) ses seviyesi -->
      <div class="form-group">
        <label for="source-audio-volume">Orijinal Video Ses Seviyesi:</label>
        <input type="range" id="source-audio-volume" min="0" max="200" value="100"
          aria-describedby="source-volume-hint">
        <span id="source-audio-volume-value">%100</span>
        <p id="source-volume-hint" class="hint">Ok tuÅŸlarÄ±: Â±1, Page Up/Down: Â±10</p>
      </div>

      <!-- Fon olarak ayarla -->
      <div class="form-group checkbox-group">
        <input type="checkbox" id="audio-as-background">
        <label for="audio-as-background">Fon mÃ¼ziÄŸi olarak ayarla (ses bittiÄŸinde tekrar baÅŸlar)</label>
      </div>

      <!-- DÃ¼ÄŸmeler -->
      <div class="dialog-buttons">
        <button type="button" id="audio-add-edit">Sesi DÃ¼zenle...</button>
        <button type="button" id="audio-add-preview">Ã–n Ä°zle (Alt+P)</button>
        <button type="button" id="audio-add-apply">Videoya Ekle</button>
        <button type="button" id="audio-add-to-list">Listeye Ekle</button>
        <button type="button" id="audio-add-close">Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- Ses DÃ¼zenleme DiyaloÄŸu -->
  <dialog id="audio-editor-dialog" aria-labelledby="audio-editor-title">
    <form method="dialog">
      <h2 id="audio-editor-title">Ses DÃ¼zenle</h2>

      <div class="form-group info-group">
        <p><strong>Dosya:</strong> <span id="audio-editor-filename">-</span></p>
        <p><strong>Toplam SÃ¼re:</strong> <span id="audio-editor-total-duration">-</span></p>
        <p><strong>SeÃ§ili SÃ¼re:</strong> <span id="audio-editor-selected-duration">-</span></p>
      </div>

      <!-- Audio player -->
      <div class="form-group">
        <audio id="audio-editor-player" style="width: 100%"></audio>
        <p id="audio-editor-position">Konum: 00:00:00.000</p>
      </div>

      <!-- Kesme kontrolleri -->
      <div class="form-group">
        <label for="audio-trim-start">BaÅŸlangÄ±Ã§ NoktasÄ±:</label>
        <input type="text" id="audio-trim-start" placeholder="00:00:00" value="00:00:00">
        <button type="button" id="audio-editor-set-start">BaÅŸlangÄ±Ã§ Ayarla ([)</button>
      </div>

      <div class="form-group">
        <label for="audio-trim-end">BitiÅŸ NoktasÄ±:</label>
        <input type="text" id="audio-trim-end" placeholder="00:00:00">
        <button type="button" id="audio-editor-set-end">BitiÅŸ Ayarla (])</button>
      </div>

      <div class="dialog-buttons">
        <button type="button" id="audio-editor-play">Oynat/Duraklat (Space)</button>
        <button type="submit" id="audio-editor-confirm">Tamam</button>
        <button type="button" id="audio-editor-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>


  <!-- GÃ¶rsel Ekleme DiyaloÄŸu -->
  <dialog id="images-dialog" aria-labelledby="images-dialog-title">
    <form method="dialog">
      <h2 id="images-dialog-title">GÃ¶rsel(ler) Ekle</h2>
      <p id="images-count">0 gÃ¶rsel seÃ§ildi</p>
      <div class="form-group">
        <label for="images-duration-type">SÃ¼re belirleme:</label>
        <select id="images-duration-type">
          <option value="manual">Manuel</option>
          <option value="auto">Otomatik (kalan sÃ¼reye gÃ¶re)</option>
        </select>
      </div>
      <div class="form-group" id="manual-duration-group">
        <label for="images-duration">Her gÃ¶rsel iÃ§in sÃ¼re (saniye):</label>
        <input type="number" id="images-duration" value="5" min="1" max="60">
      </div>
      <div class="dialog-buttons">
        <button type="submit" id="images-confirm">Ekle</button>
        <button type="button" id="images-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- YazÄ± Ekleme DiyaloÄŸu -->
  <dialog id="text-overlay-dialog" aria-labelledby="text-overlay-title">
    <form method="dialog">
      <h2 id="text-overlay-title">YazÄ± Ekle</h2>

      <!-- Metin alanÄ± -->
      <div class="form-group">
        <label for="text-overlay-content">Metin (Enter ile yeni satÄ±r):</label>
        <textarea id="text-overlay-content" rows="4" placeholder="Buraya yazÄ±nÄ±zÄ± girin..."></textarea>
      </div>

      <!-- YazÄ± tipi -->
      <div class="form-group">
        <label for="text-overlay-font">YazÄ± Tipi:</label>
        <select id="text-overlay-font">
          <option value="arial">Arial</option>
          <option value="times">Times New Roman</option>
          <option value="verdana">Verdana</option>
          <option value="georgia">Georgia</option>
          <option value="tahoma">Tahoma</option>
        </select>
      </div>

      <!-- YazÄ± boyutu -->
      <div class="form-group">
        <label for="text-overlay-size">YazÄ± Boyutu:</label>
        <select id="text-overlay-size">
          <option value="24">KÃ¼Ã§Ã¼k (24px)</option>
          <option value="32">Orta (32px)</option>
          <option value="48" selected>BÃ¼yÃ¼k (48px)</option>
          <option value="64">Ã‡ok BÃ¼yÃ¼k (64px)</option>
          <option value="96">Dev (96px)</option>
        </select>
      </div>

      <!-- YazÄ± rengi -->
      <div class="form-group">
        <label for="text-overlay-color">YazÄ± Rengi:</label>
        <select id="text-overlay-color">
          <option value="white">Beyaz</option>
          <option value="black">Siyah</option>
          <option value="yellow">SarÄ±</option>
          <option value="red">KÄ±rmÄ±zÄ±</option>
          <option value="green">YeÅŸil</option>
          <option value="blue">Mavi</option>
        </select>
      </div>

      <!-- Arka plan rengi -->
      <div class="form-group">
        <label for="text-overlay-bg">Arka Plan:</label>
        <select id="text-overlay-bg">
          <option value="none">Yok (Saydam)</option>
          <option value="black">Siyah (yarÄ± saydam)</option>
          <option value="white">Beyaz (yarÄ± saydam)</option>
          <option value="gray">Gri (yarÄ± saydam)</option>
        </select>
      </div>

      <!-- Konum -->
      <div class="form-group">
        <label for="text-overlay-position">Konum:</label>
        <select id="text-overlay-position">
          <option value="top">Ãœst</option>
          <option value="center">Orta</option>
          <option value="bottom" selected>Alt</option>
        </select>
      </div>

      <!-- GeÃ§iÅŸ efekti -->
      <div class="form-group">
        <label for="text-overlay-transition">GeÃ§iÅŸ Efekti:</label>
        <select id="text-overlay-transition">
          <option value="none">AnÄ±nda (geÃ§iÅŸ yok)</option>
          <option value="fade">YavaÅŸÃ§a belir/kaybol</option>
        </select>
      </div>

      <!-- SÃ¼re -->
      <div class="form-group">
        <label for="text-overlay-duration">Ekranda Kalma SÃ¼resi (saniye):</label>
        <input type="number" id="text-overlay-duration" value="5" min="1" max="300">
      </div>

      <!-- TÃ¼m video boyunca -->
      <div class="form-group checkbox-group">
        <input type="checkbox" id="text-overlay-whole-video">
        <label for="text-overlay-whole-video">TÃ¼m video boyunca gÃ¶ster</label>
      </div>

      <!-- YazÄ±yÄ± seslendir (TTS) -->
      <div class="form-group checkbox-group">
        <input type="checkbox" id="text-overlay-tts-enable">
        <label for="text-overlay-tts-enable">YazÄ±yÄ± seslendir (TTS)</label>
      </div>

      <!-- TTS AyarlarÄ± (checkbox iÅŸaretlenince gÃ¶rÃ¼nÃ¼r) -->
      <div id="tts-options" style="display: none;">
        <!-- TTS Sesi -->
        <div class="form-group">
          <label for="text-overlay-tts-voice">Seslendirme Sesi:</label>
          <select id="text-overlay-tts-voice">
            <option value="">VarsayÄ±lan</option>
          </select>
        </div>

        <!-- KonuÅŸma HÄ±zÄ± -->
        <div class="form-group">
          <label for="text-overlay-tts-speed">KonuÅŸma HÄ±zÄ±:</label>
          <input type="range" id="text-overlay-tts-speed" min="50" max="200" value="100"
            aria-describedby="tts-speed-hint">
          <span id="text-overlay-tts-speed-value">%100</span>
          <p id="tts-speed-hint" class="hint">50% = Ã§ok yavaÅŸ, 100% = normal, 200% = Ã§ok hÄ±zlÄ±</p>
        </div>

        <!-- Seslendirme Ses MiktarÄ± -->
        <div class="form-group">
          <label for="text-overlay-tts-volume">Seslendirme Ses MiktarÄ±:</label>
          <input type="range" id="text-overlay-tts-volume" min="0" max="200" value="100">
          <span id="text-overlay-tts-volume-value">%100</span>
        </div>

        <!-- Video Ses MiktarÄ± -->
        <div class="form-group">
          <label for="text-overlay-video-volume">Video Ses MiktarÄ±:</label>
          <input type="range" id="text-overlay-video-volume" min="0" max="200" value="100">
          <span id="text-overlay-video-volume-value">%100</span>
        </div>
      </div>

      <!-- DÃ¼ÄŸmeler -->
      <div class="dialog-buttons">
        <button type="button" id="text-overlay-preview">Ã–n Ä°zle (Alt+P)</button>
        <button type="submit" id="text-overlay-confirm">Tamam</button>
        <button type="button" id="text-overlay-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Klavye KÄ±sayollarÄ± DiyaloÄŸu -->
  <dialog id="shortcuts-dialog" aria-labelledby="shortcuts-dialog-title">
    <h2 id="shortcuts-dialog-title">Klavye KÄ±sayollarÄ±</h2>
    <div class="shortcuts-content">
      <section>
        <h3>Navigasyon</h3>
        <dl>
          <dt>â†’ / â†</dt>
          <dd>Ä°nce ayar sÃ¼resine gÃ¶re ileri/geri (duruyorsa ses Ã§alar)</dd>
          <dt>Ctrl + â†’ / â†</dt>
          <dd>30 saniye ileri/geri</dd>
          <dt>Ctrl + Alt + â†’ / â†</dt>
          <dd>5 dakika ileri/geri</dd>
          <dt>Ctrl + G</dt>
          <dd>Zaman koduna git</dd>
          <dt>Ctrl + Home / End</dt>
          <dd>BaÅŸa/sona git</dd>
          <dt>Shift + Backspace</dt>
          <dd>Sondan 30 saniye Ã¶nce</dd>
          <dt>Ctrl + Shift + Backspace</dt>
          <dd>Ortaya git</dd>
          <dt>Ctrl + Shift + F</dt>
          <dd>Ä°nce Ayar (atlama sÃ¼resini deÄŸiÅŸtir)</dd>
        </dl>
      </section>
      <section>
        <h3>Oynatma</h3>
        <dl>
          <dt>Space</dt>
          <dd>Oynat (pozisyonu hatÄ±rla) / Duraklat ve baÅŸlangÄ±Ã§ pozisyonuna dÃ¶n</dd>
          <dt>Ctrl + Space</dt>
          <dd>Mevcut pozisyonda duraklat (baÅŸlangÄ±ca dÃ¶nmez)</dd>
          <dt>Enter</dt>
          <dd>Mevcut pozisyonda duraklat ve imleci konumla</dd>
          <dt>Shift + Space</dt>
          <dd>SeÃ§ili alanÄ± oynat</dd>
          <dt>Page Down / Page Up</dt>
          <dd>Ses ile 1 saniye ileri/geri (basÄ±lÄ± tutunca ses duyulur)</dd>
        </dl>
      </section>
      <section>
        <h3>Ä°ÅŸaretÃ§iler</h3>
        <dl>
          <dt>M</dt>
          <dd>Ä°ÅŸaretÃ§i ekle</dd>
        </dl>
      </section>
      <section>
        <h3>SeÃ§im</h3>
        <dl>
          <dt>Shift + â†’ / â†</dt>
          <dd>1 saniyelik seÃ§im</dd>
          <dt>Ctrl + Shift + â†’ / â†</dt>
          <dd>Ä°ÅŸaretÃ§iler arasÄ± seÃ§im</dd>
          <dt>Shift + Home / End</dt>
          <dd>Ä°mlecten iÅŸaretÃ§iye seÃ§im</dd>
          <dt>Ctrl + Shift + Home / End</dt>
          <dd>Ä°mlecten baÅŸa/sona seÃ§im</dd>
        </dl>
      </section>
    </div>
    <div class="dialog-buttons">
      <button type="button" id="shortcuts-close">Kapat</button>
    </div>
  </dialog>

  <!-- KullanÄ±m KÄ±lavuzu DiyaloÄŸu -->
  <dialog id="help-dialog" aria-labelledby="help-dialog-title" class="large-dialog"
    style="width: 800px; max-width: 95vw; height: 80vh;">
    <form method="dialog" style="height: 100%; display: flex; flex-direction: column;">
      <h2 id="help-dialog-title">KullanÄ±m KÄ±lavuzu</h2>

      <div class="help-container" style="flex: 1; display: flex; gap: 20px; overflow: hidden; margin-bottom: 20px;">
        <!-- Kenar Ã‡ubuÄŸu (Konular) -->
        <aside class="help-sidebar"
          style="width: 250px; border-right: 1px solid #444; padding-right: 10px; overflow-y: auto;">
          <h3 style="margin-top: 0; font-size: 1.1rem; color: var(--accent-color);">Konular</h3>
          <ul id="help-topics-list" role="listbox" aria-label="YardÄ±m konularÄ±" tabindex="0"
            style="list-style: none; padding: 0; margin: 0;">
            <!-- JS ile doldurulacak -->
          </ul>
        </aside>

        <!-- Ä°Ã§erik AlanÄ± -->
        <main class="help-content" id="help-content-area" tabindex="0" role="region" aria-live="polite"
          aria-label="Konu iÃ§eriÄŸi" style="flex: 1; overflow-y: auto; padding-right: 10px;">
          <div id="help-welcome">
            <h3>HoÅŸ Geldiniz</h3>
            <p>Soldaki menÃ¼den (veya yukarÄ±/aÅŸaÄŸÄ± ok tuÅŸlarÄ±yla) bir konu seÃ§erek detaylÄ± bilgi alabilirsiniz.</p>
          </div>
        </main>
      </div>

      <div class="dialog-buttons">
        <button type="button" id="help-close">Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- AkÄ±llÄ± SeÃ§im DiyaloÄŸu -->
  <dialog id="ai-dialog" aria-labelledby="ai-dialog-title">
    <form method="dialog">
      <h2 id="ai-dialog-title">AkÄ±llÄ± SeÃ§im KontrolÃ¼</h2>
      <div id="ai-analysis-status">
        <p>SeÃ§ili alan analiz ediliyor...</p>
      </div>
      <div id="ai-result" class="hidden">
        <h3>AI Ã–nerisi:</h3>
        <p id="ai-suggestion"></p>
        <div class="form-group">
          <label for="ai-question">Ã–zel soru sorun (isteÄŸe baÄŸlÄ±):</label>
          <input type="text" id="ai-question" placeholder="Ã–rn: Bu temiz bir sahne geÃ§iÅŸi mi?">
          <button type="button" id="ai-ask">Sor</button>
        </div>
        <p id="ai-answer" class="hidden"></p>
      </div>
      <div class="dialog-buttons">
        <button type="button" id="ai-accept" class="hidden">Ã–neriyi Kabul Et</button>
        <button type="button" id="ai-reject">Reddet / Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- Video Ã–zellikleri DiyaloÄŸu -->
  <dialog id="video-properties-dialog" aria-labelledby="video-props-title">
    <form method="dialog">
      <h2 id="video-props-title">Video Ã–zellikleri</h2>

      <div class="form-group">
        <label for="prop-resolution">Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k:</label>
        <select id="prop-resolution">
          <option value="original">Ã–zgÃ¼n</option>
          <option value="1920x1080">1920 x 1080 (Full HD)</option>
          <option value="1280x720">1280 x 720 (HD)</option>
          <option value="854x480">854 x 480 (SD)</option>
          <option value="640x360">640 x 360</option>
          <option value="custom">Ã–zel...</option>
        </select>
      </div>

      <div id="custom-resolution-group" class="form-group hidden">
        <label for="prop-width">GeniÅŸlik:</label>
        <input type="number" id="prop-width" min="128" max="7680" step="2" placeholder="1920">
        <label for="prop-height">YÃ¼kseklik:</label>
        <input type="number" id="prop-height" min="96" max="4320" step="2" placeholder="1080">
      </div>

      <div class="form-group">
        <label for="prop-fps">Kare HÄ±zÄ± (FPS):</label>
        <select id="prop-fps">
          <option value="original">Ã–zgÃ¼n</option>
          <option value="60">60 fps</option>
          <option value="30">30 fps</option>
          <option value="25">25 fps</option>
          <option value="24">24 fps (Sinema)</option>
          <option value="15">15 fps</option>
        </select>
      </div>

      <div class="form-group">
        <label for="prop-codec">Video Codec:</label>
        <select id="prop-codec">
          <option value="original">Ã–zgÃ¼n</option>
          <option value="h264">H.264 (YaygÄ±n)</option>
          <option value="h265">H.265 / HEVC (Verimli)</option>
          <option value="vp9">VP9 (Web)</option>
          <option value="av1">AV1 (En verimli)</option>
          <option value="prores">ProRes (Profesyonel)</option>
        </select>
      </div>

      <div class="form-group">
        <label for="prop-quality">Kalite / Bit HÄ±zÄ±:</label>
        <select id="prop-quality-preset">
          <option value="low">DÃ¼ÅŸÃ¼k (2 Mbps)</option>
          <option value="medium" selected>Orta (5 Mbps)</option>
          <option value="high">YÃ¼ksek (10 Mbps)</option>
          <option value="veryhigh">Ã‡ok YÃ¼ksek (20 Mbps)</option>
          <option value="custom">Ã–zel...</option>
        </select>
      </div>

      <div id="custom-bitrate-group" class="form-group hidden">
        <label for="prop-bitrate">Bit HÄ±zÄ± (Mbps):</label>
        <input type="number" id="prop-bitrate" min="0.5" max="100" step="0.5" value="5">
      </div>

      <div class="form-group info-group">
        <p><strong>Ã–zgÃ¼n Ã–zellikler:</strong></p>
        <p id="prop-original-info">YÃ¼kleniyor...</p>
      </div>

      <div class="form-group info-group">
        <label for="prop-estimated-size"><strong>Tahmini Dosya Boyutu:</strong></label>
        <input type="text" id="prop-estimated-size" readonly value="-" aria-readonly="true" class="readonly-field">
      </div>

      <div class="dialog-buttons">
        <button type="button" id="video-props-save">FarklÄ± Kaydet</button>
        <button type="button" id="video-props-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Video UyuÅŸmazlÄ±ÄŸÄ± DiyaloÄŸu -->
  <dialog id="video-mismatch-dialog" aria-labelledby="mismatch-title">
    <form method="dialog">
      <h2 id="mismatch-title">Video Ã–zellikleri UyuÅŸmuyor</h2>
      <p>Eklemek istediÄŸiniz videonun Ã¶zellikleri mevcut projeden farklÄ±.</p>

      <div class="form-group info-group">
        <p><strong>Mevcut Proje:</strong></p>
        <p id="mismatch-source-info">-</p>
      </div>

      <div class="form-group info-group">
        <p><strong>Eklenecek Video:</strong></p>
        <p id="mismatch-insert-info">-</p>
      </div>

      <p>Eklenen videoyu projenin Ã¶zelliklerine dÃ¶nÃ¼ÅŸtÃ¼rmek ister misiniz?</p>

      <div class="dialog-buttons">
        <button type="button" id="mismatch-convert">DÃ¶nÃ¼ÅŸtÃ¼r ve Ekle</button>
        <button type="button" id="mismatch-as-is">OlduÄŸu Gibi Ekle</button>
        <button type="button" id="mismatch-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Ekleme Listesi DiyaloÄŸu -->
  <dialog id="insertion-queue-dialog" aria-labelledby="insertion-queue-title">
    <form method="dialog">
      <h2 id="insertion-queue-title">Ekleme Listesi</h2>

      <div id="insertion-queue-empty" class="form-group">
        <p>Ekleme listesi boÅŸ. YazÄ± veya ses ekleyerek listeye Ã¶ÄŸe ekleyebilirsiniz.</p>
      </div>

      <ul id="insertion-queue-list" role="listbox" aria-label="Eklenecek Ã¶ÄŸeler">
        <!-- Dinamik olarak doldurulacak -->
      </ul>

      <div class="dialog-buttons">
        <button type="button" id="insertion-queue-apply-all" disabled>TÃ¼mÃ¼nÃ¼ Videoya Ekle</button>
        <button type="button" id="insertion-queue-clear" disabled>Listeyi Temizle</button>
        <button type="button" id="insertion-queue-close">Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- Sessizlik Tespiti Parametre DiyaloÄŸu -->
  <dialog id="silence-params-dialog" aria-labelledby="silence-params-title">
    <form method="dialog">
      <h2 id="silence-params-title">BoÅŸluklarÄ± Listele</h2>
      <div class="form-group">
        <label for="silence-min-duration">Minimum Sessizlik SÃ¼resi (ms):</label>
        <input type="number" id="silence-min-duration" value="500" min="100" step="100">
        <p class="hint">En az bu kadar sÃ¼ren sessizlikler listelenir.</p>
      </div>
      <div class="form-group">
        <label for="silence-threshold">Sessizlik EÅŸiÄŸi (dB):</label>
        <input type="number" id="silence-threshold" value="-30" max="0" step="1">
        <p class="hint">Bu deÄŸerden daha dÃ¼ÅŸÃ¼k sesler sessizlik kabul edilir. Ã–rn: -30 (daha hassas), -20 (daha az
          hassas).</p>
      </div>
      <div class="dialog-buttons">
        <button type="submit" id="silence-params-confirm">Listele</button>
        <button type="button" id="silence-params-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Sessiz Alanlar Listesi DiyaloÄŸu -->
  <dialog id="silence-list-dialog" aria-labelledby="silence-list-title">
    <form method="dialog">
      <h2 id="silence-list-title">Sessiz Alanlar</h2>
      <p id="silence-list-count">Analiz yapÄ±lÄ±yor...</p>

      <div class="form-group">
        <ul id="silence-intervals-list" role="listbox" aria-label="Sessiz alanlar listesi" tabindex="0"
          style="max-height: 300px; overflow-y: auto;">
          <!-- Dinamik olarak doldurulacak -->
        </ul>
      </div>

      <div class="dialog-info" id="silence-totals" style="margin-bottom: 15px;">
        <p>Toplam: <span id="silence-total-count">0</span> alan, <span id="silence-total-duration">00:00:00</span> sÃ¼re
        </p>
      </div>

      <div class="form-group">
        <label for="silence-padding-input">Atlama PayÄ± / Tampon (milisaniye):</label>
        <input type="number" id="silence-padding-input" value="100" min="0" step="50">
        <p class="hint">Silme iÅŸlemi sÄ±rasÄ±nda, iki konuÅŸma arasÄ±na eklenecek (korunacak) boÅŸluk miktarÄ±.</p>
      </div>

      <div class="dialog-buttons">
        <button type="button" id="silence-play-selected">SeÃ§ileni Dinle (Enter)</button>
        <button type="button" id="silence-preview-cut">Kesim Ã–nizle (Alt+P)</button>
        <button type="button" id="silence-delete-selected">SeÃ§ileni Sil (Del)</button>
        <button type="button" id="silence-delete-all">TÃ¼mÃ¼nÃ¼ Sil</button>
        <button type="button" id="silence-list-close">Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- Yapay Zeka Betimleme DiyaloÄŸu -->
  <dialog id="ai-description-dialog" aria-labelledby="ai-description-title" style="width: 500px; max-width: 90vw;">
    <form method="dialog">
      <h2 id="ai-description-title">SeÃ§imi AI ile Betimle</h2>

      <div id="ai-description-content" class="form-group"
        style="max-height: 400px; overflow-y: auto; background: #1a1a1a; padding: 15px; border-radius: 4px; margin-bottom: 15px; border: 1px solid #333;"
        tabindex="0" role="region" aria-label="Yapay zeka yanÄ±tlarÄ±">
        <div id="ai-description-chat" aria-live="assertive">
          <p>Yapay zeka analiz ediyor, lÃ¼tfen bekleyin...</p>
        </div>
      </div>

      <div class="form-group" id="ai-question-group" style="display: none;">
        <label for="ai-question-input">AI'ya soru sor:</label>
        <div style="display: flex; gap: 10px;">
          <input type="text" id="ai-question-input" placeholder="Ã–rn: Videoda kaÃ§ kiÅŸi var?" style="flex: 1;">
          <button type="button" id="ai-question-send">Sor</button>
        </div>
      </div>

      <div class="dialog-buttons">
        <button type="button" id="ai-description-close">Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- EriÅŸilebilir Onay DiyaloÄŸu (Ekran okuyucu uyumlu) -->
  <dialog id="accessible-confirm-dialog" aria-labelledby="accessible-confirm-title"
    aria-describedby="accessible-confirm-message">
    <form method="dialog">
      <h2 id="accessible-confirm-title">Onay</h2>
      <p id="accessible-confirm-message" style="margin: 20px 0; line-height: 1.6;"></p>
      <div class="dialog-buttons">
        <button type="button" id="accessible-confirm-yes">Evet</button>
        <button type="button" id="accessible-confirm-no">HayÄ±r</button>
      </div>
    </form>
  </dialog>

  <!-- Gemini API AnahtarÄ± DiyaloÄŸu -->
  <dialog id="gemini-api-key-dialog" aria-labelledby="gemini-api-key-title">
    <form method="dialog">
      <h2 id="gemini-api-key-title">Gemini API AnahtarÄ±</h2>
      <div class="form-group">
        <label for="gemini-api-key-input">API AnahtarÄ±:</label>
        <input type="password" id="gemini-api-key-input" placeholder="AI anahtarÄ±nÄ±zÄ± buraya yapÄ±ÅŸtÄ±rÄ±n"
          style="width: 100%; margin-bottom: 10px;">
        <div class="checkbox-group" style="margin-bottom: 15px;">
          <input type="checkbox" id="gemini-api-key-show">
          <label for="gemini-api-key-show">AnahtarÄ± GÃ¶ster</label>
        </div>
      </div>
      <div class="form-group">
        <label for="gemini-model-select">Model SeÃ§in:</label>
        <select id="gemini-model-select" style="width: 100%;">
          <option value="gemini-2.5-flash" selected>Gemini 2.5 Flash (Ã–nerilen)</option>
          <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
          <option value="gemini-1.5-flash">Gemini 1.5 Flash (Kota Dostu)</option>
        </select>
        <p class="hint">Ãœcretsiz API katmanÄ±ndaysanÄ±z "Gemini 1.5 Flash" modeli Ã¶nerilir.</p>
      </div>
      <div class="dialog-buttons">
        <button type="submit" id="gemini-api-key-confirm">Kaydet</button>
        <button type="button" id="gemini-api-key-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Ä°nce Ayar DiyaloÄŸu -->
  <dialog id="fine-tune-dialog" aria-labelledby="fine-tune-dialog-title">
    <form method="dialog">
      <h2 id="fine-tune-dialog-title">Ä°nce Ayar</h2>
      <div class="form-group">
        <label for="navigation-step-input">Navigasyon Atlama SÃ¼resi:</label>
        <p class="hint">SaÄŸ/Sol ok tuÅŸlarÄ±yla kaÃ§ saniye ileri/geri gidileceÄŸini belirler.</p>
        <select id="navigation-step-preset" aria-label="HazÄ±r deÄŸerler">
          <option value="1">1 saniye (VarsayÄ±lan)</option>
          <option value="0.5">500 milisaniye</option>
          <option value="0.25">250 milisaniye</option>
          <option value="0.1">100 milisaniye</option>
          <option value="0.05">50 milisaniye</option>
          <option value="0.01">10 milisaniye (En ince)</option>
          <option value="custom">Ã–zel deÄŸer...</option>
        </select>
      </div>
      <div id="custom-step-container" class="form-group" style="display: none;">
        <label for="custom-step-input">Ã–zel DeÄŸer (milisaniye):</label>
        <input type="number" id="custom-step-input" min="10" max="10000" step="10" value="100">
      </div>
      <div class="current-value">
        <strong>Mevcut DeÄŸer:</strong> <span id="current-step-display">1 saniye</span>
      </div>
      <div class="dialog-buttons">
        <button type="submit" id="fine-tune-confirm">Uygula</button>
        <button type="button" id="fine-tune-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- GÃ¶rsel Ekleme SihirbazÄ± -->
  <dialog id="image-wizard-dialog" aria-labelledby="image-wizard-title" class="wizard-dialog">
    <form method="dialog">
      <h2 id="image-wizard-title">GÃ¶rsel Ekleme SihirbazÄ±</h2>

      <!-- AdÄ±m GÃ¶stergesi -->
      <div class="wizard-steps" aria-hidden="true">
        <span class="step active" id="step-indicator-1">1. TÃ¼r</span>
        <span class="separator">&gt;</span>
        <span class="step" id="step-indicator-2">2. Kaynak</span>
        <span class="separator">&gt;</span>
        <span class="step" id="step-indicator-3">3. Ayarlar</span>
        <span class="separator">&gt;</span>
        <span class="step" id="step-indicator-4">4. Zaman</span>
      </div>

      <!-- AdÄ±m 1: TÃ¼r SeÃ§imi -->
      <div id="image-wizard-step-1" class="wizard-step" role="region" aria-labelledby="step-1-title">
        <h3 id="step-1-title" class="sr-only">AdÄ±m 1: GÃ¶rsel TÃ¼rÃ¼ SeÃ§imi</h3>
        <fieldset class="radio-group-vertical">
          <legend>Eklemek istediÄŸiniz gÃ¶rsel tÃ¼rÃ¼nÃ¼ seÃ§in:</legend>

          <label class="radio-option">
            <input type="radio" name="image-type" value="watermark" checked>
            <span class="option-content">
              <strong>Filigran / Logo</strong>
              <span class="description">KÃ¶ÅŸede duran, genellikle yarÄ± saydam logo veya yazÄ±.</span>
            </span>
          </label>

          <label class="radio-option">
            <input type="radio" name="image-type" value="overlay">
            <span class="option-content">
              <strong>Serbest GÃ¶rsel / Ã‡Ä±kartma</strong>
              <span class="description">Ekranda istediÄŸiniz yere koyabileceÄŸiniz resim.</span>
            </span>
          </label>

          <label class="radio-option">
            <input type="radio" name="image-type" value="background">
            <span class="option-content">
              <strong>Arka Plan GÃ¶rseli</strong>
              <span class="description">Videonun arkasÄ±na (altÄ±na) yerleÅŸir.</span>
            </span>
          </label>
        </fieldset>
      </div>

      <!-- AdÄ±m 2: Kaynak SeÃ§imi -->
      <div id="image-wizard-step-2" class="wizard-step hidden" role="region" aria-labelledby="step-2-title">
        <h3 id="step-2-title" class="sr-only">AdÄ±m 2: GÃ¶rsel KaynaÄŸÄ±</h3>

        <fieldset class="radio-group-vertical" id="source-type-selection">
          <legend>GÃ¶rsel kaynaÄŸÄ±nÄ± seÃ§in:</legend>

          <label class="radio-option">
            <input type="radio" name="image-source-type" value="file" checked>
            <span class="option-content">
              <strong>Bilgisayardan Dosya SeÃ§</strong>
              <span class="description">PNG, JPG, BMP formatlarÄ±.</span>
            </span>
          </label>

          <label class="radio-option" id="source-option-text">
            <input type="radio" name="image-source-type" value="text">
            <span class="option-content">
              <strong>YazÄ±dan OluÅŸtur</strong>
              <span class="description">YazdÄ±ÄŸÄ±nÄ±z metni gÃ¶rsele Ã§evirir (EriÅŸilebilir).</span>
            </span>
          </label>

          <label class="radio-option hidden" id="source-option-library">
            <input type="radio" name="image-source-type" value="library">
            <span class="option-content">
              <strong>KÃ¼tÃ¼phaneden SeÃ§</strong>
              <span class="description">HazÄ±r arka planlar.</span>
            </span>
          </label>
        </fieldset>

        <!-- Dosya SeÃ§imi DetayÄ± -->
        <div id="source-detail-file" class="source-detail">
          <button type="button" id="btn-select-image-file">Dosya GÃ¶zat...</button>
          <span id="selected-image-filename" class="file-status">Dosya seÃ§ilmedi</span>
        </div>

        <!-- YazÄ± OluÅŸturma DetayÄ± -->
        <div id="source-detail-text" class="source-detail hidden">
          <div class="form-group">
            <label for="img-text-content">Metin:</label>
            <textarea id="img-text-content" rows="3"
              placeholder="Eklenecek yazÄ±yÄ± girin (Enter ile alt satÄ±ra geÃ§ebilirsiniz)"></textarea>
          </div>
          <div class="form-group two-col">
            <div>
              <label for="img-text-font">YazÄ± Tipi:</label>
              <select id="img-text-font">
                <option value="arial">Arial</option>
                <option value="verdana">Verdana</option>
                <option value="times">Times New Roman</option>
              </select>
            </div>
            <div>
              <label for="img-text-color">Renk:</label>
              <select id="img-text-color">
                <option value="white">Beyaz</option>
                <option value="black">Siyah</option>
                <option value="yellow">SarÄ±</option>
                <option value="red">KÄ±rmÄ±zÄ±</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="img-text-bg-color">Arka Plan:</label>
            <select id="img-text-bg-color">
              <option value="transparent">Saydam</option>
              <option value="black">Siyah (Kutu)</option>
              <option value="white">Beyaz (Kutu)</option>
            </select>
          </div>
        </div>
      </div>

      <!-- AdÄ±m 3: Konum ve Ayarlar -->
      <div id="image-wizard-step-3" class="wizard-step hidden" role="region" aria-labelledby="step-3-title">
        <h3 id="step-3-title" class="sr-only">AdÄ±m 3: Konum ve Boyut</h3>

        <div class="form-group info-group">
          <p><strong>Ä°pucu:</strong> "Sesli KonumlandÄ±rma Modu"nu baÅŸlatarak ok tuÅŸlarÄ±yla gÃ¶rseli hareket
            ettirebilirsiniz.</p>
        </div>

        <div class="form-group two-col">
          <div>
            <label for="img-pos-x">X Konumu (px):</label>
            <input type="number" id="img-pos-x" value="10">
          </div>
          <div>
            <label for="img-pos-y">Y Konumu (px):</label>
            <input type="number" id="img-pos-y" value="10">
          </div>
        </div>

        <div class="form-group two-col">
          <div>
            <label for="img-width">GeniÅŸlik (px, -1=oto):</label>
            <input type="number" id="img-width" value="-1">
          </div>
          <div>
            <label for="img-height">YÃ¼kseklik (px, -1=oto):</label>
            <input type="number" id="img-height" value="-1">
          </div>
        </div>

        <div class="form-group">
          <label for="img-opacity">GÃ¶rÃ¼nÃ¼rlÃ¼k (OpaklÄ±k):</label>
          <input type="range" id="img-opacity" min="0" max="1" step="0.1" value="1">
          <span id="img-opacity-val">%100</span>
        </div>

        <div class="action-buttons-group">
          <button type="button" id="btn-voice-positioning" class="action-button primary-action">
            <span class="icon">ğŸ”Š</span> Sesli KonumlandÄ±rma Modunu BaÅŸlat
          </button>
          <button type="button" id="btn-ask-ai-pos" class="action-button">
            Yapay Zekadan GÃ¶rÃ¼ÅŸ Al
          </button>
        </div>
        <div id="ai-pos-feedback" class="feedback-box hidden" aria-live="polite"></div>
      </div>

      <!-- AdÄ±m 4: Zamanlama -->
      <div id="image-wizard-step-4" class="wizard-step hidden" role="region" aria-labelledby="step-4-title">
        <h3 id="step-4-title" class="sr-only">AdÄ±m 4: Zamanlama</h3>

        <div class="form-group">
          <fieldset class="radio-group-vertical">
            <legend>SÃ¼re ayarÄ±:</legend>
            <label class="radio-option">
              <input type="radio" name="img-duration-mode" value="whole" checked>
              <span>TÃ¼m Video Boyunca</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="img-duration-mode" value="manual">
              <span>Belirli Bir AralÄ±kta</span>
            </label>
          </fieldset>
        </div>

        <div id="img-timing-manual" class="hidden">
          <div class="form-group two-col">
            <div>
              <label for="img-start-time">BaÅŸlangÄ±Ã§ (sn):</label>
              <input type="number" id="img-start-time" step="0.1" min="0">
              <button type="button" id="btn-img-start-current" class="small-btn">Åu an</button>
            </div>
            <div>
              <label for="img-end-time">BitiÅŸ (sn):</label>
              <input type="number" id="img-end-time" step="0.1" min="0">
              <button type="button" id="btn-img-end-current" class="small-btn">Åu an</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigasyon ButonlarÄ± -->
      <div class="dialog-buttons wizard-buttons">
        <button type="button" id="wizard-back" disabled>Geri</button>
        <button type="button" id="wizard-next">Ä°leri</button>
        <button type="button" id="wizard-finish" class="hidden">Tamamla</button>
        <button type="button" id="wizard-add-to-queue" class="hidden">Listeye Ekle</button>
        <button type="button" id="wizard-cancel">Ä°ptal</button>
      </div>
    </form>

  </dialog>

  <!-- Video KatmanÄ± SihirbazÄ± (Picture-in-Picture) -->
  <dialog id="video-layer-wizard-dialog" aria-labelledby="video-layer-wizard-title" class="wizard-dialog">
    <form method="dialog">
      <h2 id="video-layer-wizard-title">Video KatmanÄ± Ekle (Picture-in-Picture)</h2>

      <!-- AdÄ±m GÃ¶stergesi -->
      <div class="wizard-steps" aria-hidden="true">
        <span class="step active" id="vl-step-indicator-1">1. Mod</span>
        <span class="separator">&gt;</span>
        <span class="step" id="vl-step-indicator-2">2. Konum & Boyut</span>
        <span class="separator">&gt;</span>
        <span class="step" id="vl-step-indicator-3">3. Ses</span>
        <span class="separator">&gt;</span>
        <span class="step" id="vl-step-indicator-4">4. Senkron</span>
        <span class="separator">&gt;</span>
        <span class="step" id="vl-step-indicator-5">5. Zamanlama</span>
      </div>

      <!-- AdÄ±m 1: Mod SeÃ§imi (Åablon) -->
      <div id="vl-wizard-step-1" class="wizard-step" role="region" aria-labelledby="vl-step-1-title">
        <h3 id="vl-step-1-title" class="sr-only">AdÄ±m 1: YerleÅŸim Modu SeÃ§imi</h3>

        <div class="form-group info-group">
          <p><strong>SeÃ§ilen Video:</strong> <span id="vl-selected-filename">-</span></p>
          <p><strong>Video SÃ¼resi:</strong> <span id="vl-layer-duration">-</span></p>
        </div>

        <fieldset class="radio-group-vertical">
          <legend>HazÄ±r yerleÅŸim modunu seÃ§in:</legend>

          <label class="radio-option">
            <input type="radio" name="vl-mode" value="sign-language" checked>
            <span class="option-content">
              <strong>Ä°ÅŸaret Dili (TÃ¼rkiye StandardÄ±)</strong>
              <span class="description">SaÄŸ alt kÃ¶ÅŸe, %12.5 boyut (8'de bir), ses kapalÄ±. Ä°ÅŸaret dili tercÃ¼manÄ± iÃ§in
                ideal.</span>
            </span>
          </label>

          <label class="radio-option">
            <input type="radio" name="vl-mode" value="split-screen">
            <span class="option-content">
              <strong>Sunucu + Ä°Ã§erik (Split Screen)</strong>
              <span class="description">Ekran %50/%50 bÃ¶lÃ¼nÃ¼r. Sol: sunucu, saÄŸ: ana video.</span>
            </span>
          </label>

          <label class="radio-option">
            <input type="radio" name="vl-mode" value="camera-corner">
            <span class="option-content">
              <strong>Kamera KÃ¶ÅŸede</strong>
              <span class="description">SaÄŸ Ã¼st kÃ¶ÅŸe, %15 boyut. Reaction veya anlatÄ±m videolarÄ± iÃ§in.</span>
            </span>
          </label>

          <label class="radio-option">
            <input type="radio" name="vl-mode" value="custom">
            <span class="option-content">
              <strong>Serbest YerleÅŸim</strong>
              <span class="description">Konum ve boyutu kendiniz belirleyin.</span>
            </span>
          </label>
        </fieldset>
      </div>

      <!-- AdÄ±m 2: Konum ve Boyut -->
      <div id="vl-wizard-step-2" class="wizard-step hidden" role="region" aria-labelledby="vl-step-2-title">
        <h3 id="vl-step-2-title" class="sr-only">AdÄ±m 2: Konum ve Boyut AyarlarÄ±</h3>

        <!-- Konum SeÃ§imi -->
        <div class="form-group">
          <label for="vl-position-preset">Konum:</label>
          <select id="vl-position-preset">
            <option value="top-left">Sol Ãœst</option>
            <option value="top-center">Ãœst Orta</option>
            <option value="top-right">SaÄŸ Ãœst</option>
            <option value="center-left">Sol Orta</option>
            <option value="center">Merkez</option>
            <option value="center-right">SaÄŸ Orta</option>
            <option value="bottom-left">Sol Alt</option>
            <option value="bottom-center">Alt Orta</option>
            <option value="bottom-right" selected>SaÄŸ Alt</option>
            <option value="custom">Ã–zel (Manuel)</option>
          </select>
        </div>

        <!-- Otomatik Konum AlgÄ±sÄ± Bildirimi -->
        <div id="vl-position-feedback" class="feedback-box hidden" aria-live="polite"></div>

        <!-- Manuel Koordinatlar -->
        <div id="vl-manual-position" class="hidden">
          <div class="form-group two-col">
            <div>
              <label for="vl-pos-x">X Konumu (piksel):</label>
              <input type="number" id="vl-pos-x" value="0" min="0">
            </div>
            <div>
              <label for="vl-pos-y">Y Konumu (piksel):</label>
              <input type="number" id="vl-pos-y" value="0" min="0">
            </div>
          </div>
        </div>

        <!-- Boyut AyarlarÄ± -->
        <div class="form-group two-col">
          <div>
            <label for="vl-width">GeniÅŸlik (piksel):</label>
            <input type="number" id="vl-width" value="480" min="50">
          </div>
          <div>
            <label for="vl-height">YÃ¼kseklik (piksel):</label>
            <input type="number" id="vl-height" value="270" min="50">
          </div>
        </div>

        <div class="form-group checkbox-group">
          <input type="checkbox" id="vl-keep-aspect" checked>
          <label for="vl-keep-aspect">OranÄ± koru (en-boy oranÄ± sabit kalsÄ±n)</label>
        </div>

        <!-- Boyut YÃ¼zdesi -->
        <div class="form-group">
          <label for="vl-size-percent">Boyut YÃ¼zdesi:</label>
          <input type="range" id="vl-size-percent" min="5" max="100" value="12.5" step="0.5">
          <span id="vl-size-percent-value">%12.5</span>
        </div>

        <!-- AI Ã–neri -->
        <div class="action-buttons-group">
          <button type="button" id="btn-vl-ai-suggest" class="action-button">
            <span class="icon">ğŸ¤–</span> AI ile Konum Ã–ner
          </button>
        </div>
        <div id="vl-ai-feedback" class="feedback-box hidden" aria-live="polite"></div>
      </div>

      <!-- AdÄ±m 3: Ses Kontrol -->
      <div id="vl-wizard-step-3" class="wizard-step hidden" role="region" aria-labelledby="vl-step-3-title">
        <h3 id="vl-step-3-title" class="sr-only">AdÄ±m 3: Ses KontrolÃ¼</h3>

        <div class="form-group info-group">
          <p><strong>Ä°pucu:</strong> Her video katmanÄ± iÃ§in ayrÄ± ses yÃ¶netimi yapabilirsiniz. Ã–nizleme iÃ§in Alt+P tuÅŸuna
            basÄ±n.</p>
        </div>

        <!-- Katman Videosu Ses Durumu -->
        <div class="form-group">
          <label for="vl-layer-mute">Katman Videosu Sesi:</label>
          <select id="vl-layer-mute">
            <option value="mute" selected>Sesi Kapat</option>
            <option value="unmute">Sesi AÃ§</option>
          </select>
        </div>

        <!-- Katman Ses Seviyesi -->
        <div class="form-group" id="vl-layer-volume-group">
          <label for="vl-layer-volume">Katman Videosu Ses Seviyesi:</label>
          <input type="range" id="vl-layer-volume" min="0" max="200" value="100"
            aria-describedby="vl-layer-volume-hint">
          <span id="vl-layer-volume-value">%100</span>
          <p id="vl-layer-volume-hint" class="hint">Ok tuÅŸlarÄ±: Â±1, Page Up/Down: Â±10</p>
        </div>

        <!-- Ana Video Ses Seviyesi -->
        <div class="form-group">
          <label for="vl-main-volume">Ana Video Ses Seviyesi:</label>
          <input type="range" id="vl-main-volume" min="0" max="200" value="100" aria-describedby="vl-main-volume-hint">
          <span id="vl-main-volume-value">%100</span>
          <p id="vl-main-volume-hint" class="hint">Ok tuÅŸlarÄ±: Â±1, Page Up/Down: Â±10</p>
        </div>

        <!-- Ã–nizleme -->
        <div class="action-buttons-group">
          <button type="button" id="btn-vl-audio-preview" class="action-button primary-action">
            <span class="icon">ğŸ”Š</span> Ses Ã–nizleme (Alt+P)
          </button>
          <button type="button" id="btn-vl-preview" class="action-button">
            <span class="icon">ğŸ‘</span> Konum Bilgisi
          </button>
        </div>
        <div id="vl-audio-preview-status" class="feedback-box hidden" aria-live="polite"></div>
      </div>

      <!-- AdÄ±m 4: Senkronizasyon (Ä°nce Ayar) -->
      <div id="vl-wizard-step-4" class="wizard-step hidden" role="region" aria-labelledby="vl-step-4-title">
        <h3 id="vl-step-4-title" class="sr-only">AdÄ±m 4: Senkronizasyon Ä°nce AyarÄ±</h3>

        <div class="form-group info-group">
          <p><strong>Ä°nce Ayar Motoru:</strong> Ä°ÅŸaret dili videosu ile ana videonun dudak hareketlerini senkronize
            edin.</p>
          <p class="hint">Ana video sesi sol kulaklÄ±ktan, katman video sesi saÄŸ kulaklÄ±ktan gelir. Offset deÄŸerini
            deÄŸiÅŸtirerek tam senkronu yakalayÄ±n.</p>
        </div>

        <!-- Video OynatÄ±cÄ± -->
        <div class="form-group">
          <div id="vl-sync-video-container"
            style="position: relative; background: #000; border-radius: 6px; overflow: hidden;">
            <video id="vl-sync-main-video" style="width: 100%; max-height: 300px;"></video>
            <!-- Overlay video (canvas ile simÃ¼le edilecek) -->
          </div>
        </div>

        <!-- Gizli Audio Elements -->
        <audio id="vl-sync-main-audio" preload="auto"></audio>
        <audio id="vl-sync-layer-audio" preload="auto"></audio>

        <!-- Oynatma Kontrolleri -->
        <div class="action-buttons-group">
          <button type="button" id="btn-vl-sync-play" class="action-button primary-action">
            <span class="icon">â–¶</span> Oynat (Space/K)
          </button>
          <button type="button" id="btn-vl-sync-loop" class="action-button">
            Loop: KapalÄ± (O)
          </button>
        </div>

        <!-- Dinleme Modu -->
        <div class="form-group">
          <label for="vl-sync-listen-mode">Dinleme Modu:</label>
          <select id="vl-sync-listen-mode">
            <option value="mix">Her Ä°kisi (KarÄ±ÅŸÄ±k)</option>
            <option value="main">Sadece Ana Video</option>
            <option value="layer">Sadece Katman Video</option>
          </select>
        </div>

        <!-- Kanal YÃ¶nlendirme -->
        <div class="form-group">
          <label for="vl-sync-channel-mode">Kanal YÃ¶nlendirme:</label>
          <select id="vl-sync-channel-mode">
            <option value="center">Merkezi (Her ikisi ortada)</option>
            <option value="split">AyrÄ±k (Ana: Sol, Katman: SaÄŸ)</option>
          </select>
          <p class="hint">AyrÄ±k modda kulaklÄ±k kullanÄ±n: sol kulaÄŸÄ±nÄ±z ana video, saÄŸ kulaÄŸÄ±nÄ±z katman video.</p>
        </div>

        <!-- Offset KontrolÃ¼ -->
        <div class="form-group">
          <label for="vl-sync-offset">Offset (Gecikme):</label>
          <div style="display: flex; gap: 8px; align-items: center;">
            <button type="button" id="btn-vl-offset-dec" class="small-btn">-10ms</button>
            <input type="text" id="vl-sync-offset" value="0 ms" readonly style="width: 100px; text-align: center;"
              aria-label="Offset deÄŸeri milisaniye cinsinden">
            <button type="button" id="btn-vl-offset-inc" class="small-btn">+10ms</button>
          </div>
          <p class="hint">
            <strong>Offset:</strong> Alt+SaÄŸ/Sol: Â±10ms | Alt+Shift+SaÄŸ/Sol: Â±100ms | Win+Ctrl+SaÄŸ/Sol: Â±1ms<br>
            <strong>Oynatma:</strong> Space/K: Oynat/Duraklat | J: 5sn Geri | L: 5sn Ä°leri | S: Durdur+BaÅŸa | O: Loop
          </p>
        </div>

        <!-- Kesme Modu (BoÅŸluklarÄ± Silme) -->
        <fieldset id="vl-cut-mode-section"
          style="border: 1px solid #444; padding: 10px; margin-top: 15px; border-radius: 6px;">
          <legend><strong>ğŸ¬ Kesme Modu (BoÅŸluklarÄ± Sil)</strong></legend>

          <p class="hint" style="margin-bottom: 10px;">
            Katman videodaki hareketsiz/boÅŸ kÄ±sÄ±mlarÄ± iÅŸaretleyip silebilirsiniz.
            Her bÃ¶lge iÃ§in baÅŸlangÄ±Ã§ ve bitiÅŸ marker'Ä± koyun.
          </p>

          <div class="action-buttons-group" style="margin-bottom: 10px;">
            <button type="button" id="btn-vl-add-cut-marker" class="action-button">
              <span class="icon">ğŸ“</span> Marker Koy (M)
            </button>
            <button type="button" id="btn-vl-delete-cut-marker" class="action-button" disabled>
              <span class="icon">ğŸ—‘ï¸</span> SeÃ§iliyi Sil (Delete)
            </button>
          </div>

          <!-- Marker Listesi -->
          <div class="form-group">
            <label for="vl-cut-marker-list">Kesme BÃ¶lgeleri:</label>
            <select id="vl-cut-marker-list" size="4" style="width: 100%; font-family: monospace;"
              aria-label="Kesilecek bÃ¶lgelerin listesi">
              <option disabled>HenÃ¼z marker eklenmedi</option>
            </select>
          </div>

          <!-- Marker TaÅŸÄ±ma -->
          <div class="action-buttons-group" style="margin-bottom: 10px;">
            <button type="button" id="btn-vl-marker-left" class="small-btn" disabled
              aria-label="SeÃ§ili marker'Ä± 1 saniye geriye taÅŸÄ±">â—€ 1sn Geri</button>
            <button type="button" id="btn-vl-marker-right" class="small-btn" disabled
              aria-label="SeÃ§ili marker'Ä± 1 saniye ileriye taÅŸÄ±">1sn Ä°leri â–¶</button>
          </div>

          <p class="hint">
            <strong>Kesme:</strong> M: Marker Koy | Delete: Sil<br>
            <strong>DÃ¼zenleme:</strong> Shift+G/H: Ä°ÅŸaretÃ§i SeÃ§ | G: 1sn Geri | H: 1sn Ä°leri
          </p>

          <div id="vl-cut-status" class="feedback-box" aria-live="polite" style="margin-top: 10px;">
            Toplam 0 bÃ¶lge iÅŸaretlendi.
          </div>
        </fieldset>

        <div id="vl-sync-status" class="feedback-box" aria-live="polite">
          Senkronizasyon iÃ§in oynatÄ±n ve offset deÄŸerini ayarlayÄ±n.
        </div>
      </div>

      <!-- AdÄ±m 5: Zamanlama -->
      <div id="vl-wizard-step-5" class="wizard-step hidden" role="region" aria-labelledby="vl-step-5-title">
        <h3 id="vl-step-5-title" class="sr-only">AdÄ±m 5: Zamanlama</h3>

        <div class="form-group">
          <fieldset class="radio-group-vertical">
            <legend>Video katmanÄ± ne zaman gÃ¶rÃ¼nsÃ¼n:</legend>
            <label class="radio-option">
              <input type="radio" name="vl-timing-mode" value="whole" checked>
              <span>TÃ¼m Video Boyunca</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="vl-timing-mode" value="from-current">
              <span>Åu anki konumdan itibaren</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="vl-timing-mode" value="manual">
              <span>Belirli Bir AralÄ±kta</span>
            </label>
          </fieldset>
        </div>

        <div id="vl-timing-manual" class="hidden">
          <div class="form-group two-col">
            <div>
              <label for="vl-start-time">BaÅŸlangÄ±Ã§ (saniye):</label>
              <input type="number" id="vl-start-time" step="0.1" min="0" value="0">
              <button type="button" id="btn-vl-start-current" class="small-btn">Åu an</button>
            </div>
            <div>
              <label for="vl-end-time">BitiÅŸ (saniye):</label>
              <input type="number" id="vl-end-time" step="0.1" min="0">
              <button type="button" id="btn-vl-end-current" class="small-btn">Åu an</button>
            </div>
          </div>
        </div>

        <!-- Ã–zet -->
        <div class="form-group info-group" id="vl-summary">
          <h4>Ã–zet:</h4>
          <p id="vl-summary-text">Ä°ÅŸaret dili modu. SaÄŸ alt, %25, ses kapalÄ±.</p>
        </div>
      </div>

      <!-- Navigasyon ButonlarÄ± -->
      <div class="dialog-buttons wizard-buttons">
        <button type="button" id="vl-wizard-back" disabled>Geri</button>
        <button type="button" id="vl-wizard-next">Ä°leri</button>
        <button type="button" id="vl-wizard-finish" class="hidden">Tamamla</button>
        <button type="button" id="vl-wizard-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- GeÃ§iÅŸ KÃ¼tÃ¼phanesi Dialog -->
  <dialog id="transition-library-dialog" class="modal-dialog" aria-labelledby="transition-lib-title" aria-modal="true">
    <h2 id="transition-lib-title">GeÃ§iÅŸ KÃ¼tÃ¼phanesi</h2>
    <p id="transition-lib-desc" class="dialog-description">Bir geÃ§iÅŸ tÃ¼rÃ¼ seÃ§erek aktif geÃ§iÅŸ olarak ayarlayÄ±n. Å tuÅŸu
      ile uygulanÄ±r.</p>

    <div class="form-group">
      <label for="transition-search">Ara:</label>
      <input type="text" id="transition-search" placeholder="GeÃ§iÅŸ adÄ± ara..." autocomplete="off">
    </div>

    <div class="form-group">
      <label for="transition-category-filter">Kategori:</label>
      <select id="transition-category-filter">
        <option value="all">TÃ¼mÃ¼</option>
        <option value="temel">Temel GeÃ§iÅŸler</option>
        <option value="dip">Dip-to (DÃ¼ÅŸÃ¼ÅŸ)</option>
        <option value="wipe">Wipe / KaydÄ±rma</option>
        <option value="separator">BÃ¶lÃ¼m AyÄ±rÄ±cÄ±lar</option>
      </select>
    </div>

    <div class="form-group">
      <label id="transition-list-label">GeÃ§iÅŸler:</label>
      <ul id="transition-type-list" class="accessible-list" role="listbox" aria-labelledby="transition-list-label"
        tabindex="0">
        <!-- Dinamik olarak doldurulur -->
      </ul>
    </div>

    <fieldset class="form-group">
      <legend>Aktif GeÃ§iÅŸ AyarlarÄ±</legend>
      <div class="form-group two-col">
        <div>
          <label for="transition-duration">SÃ¼re (saniye):</label>
          <input type="number" id="transition-duration" value="0.5" min="0.1" max="5" step="0.1">
        </div>
        <div>
          <label>
            <input type="checkbox" id="transition-use-sfx" checked>
            VarsayÄ±lan ses efektini kullan
          </label>
        </div>
      </div>
      <div class="form-group" id="transition-custom-sfx-group" style="display:none;">
        <label for="transition-custom-sfx">Ã–zel ses dosyasÄ±:</label>
        <input type="text" id="transition-custom-sfx" readonly placeholder="Dosya seÃ§ilmedi">
        <button type="button" id="btn-select-transition-sfx">Dosya SeÃ§</button>
      </div>
    </fieldset>

    <div class="dialog-info" id="transition-info-box" aria-live="polite">
      <p id="transition-active-info">Aktif geÃ§iÅŸ: Ã‡apraz GeÃ§iÅŸ (Cross Dissolve)</p>
    </div>

    <div class="dialog-buttons">
      <button type="button" id="btn-transition-preview">Ã–nizle (Alt+P)</button>
      <button type="button" id="btn-transition-set-active">Aktif Olarak Ayarla</button>
      <button type="button" id="btn-transition-cancel">Kapat</button>
    </div>
  </dialog>

  <!-- GeÃ§iÅŸ Listesi Dialog -->
  <dialog id="transition-list-dialog" class="modal-dialog" aria-labelledby="transition-list-title" aria-modal="true">
    <h2 id="transition-list-title">UygulanmÄ±ÅŸ GeÃ§iÅŸler</h2>
    <p id="transition-list-desc" class="dialog-description">Videoya eklenen geÃ§iÅŸlerin listesi.</p>

    <div id="transition-list-empty" style="display:none;">
      <p>HenÃ¼z geÃ§iÅŸ eklenmedi. Å tuÅŸu ile aktif geÃ§iÅŸi uygulayabilirsiniz.</p>
    </div>

    <ul id="applied-transition-list" class="accessible-list" role="listbox" aria-label="UygulanmÄ±ÅŸ geÃ§iÅŸler"
      tabindex="0">
      <!-- Dinamik olarak doldurulur -->
    </ul>

    <div class="dialog-buttons">
      <button type="button" id="btn-transition-goto">GeÃ§iÅŸe Git</button>
      <button type="button" id="btn-transition-edit">DÃ¼zenle</button>
      <button type="button" id="btn-transition-delete">Sil</button>
      <button type="button" id="btn-transition-clear-all">TÃ¼mÃ¼nÃ¼ Sil</button>
      <button type="button" id="btn-transition-list-close">Kapat</button>
    </div>
  </dialog>

  <!-- AltyazÄ± Ä°ÅŸlem SeÃ§imi DiyaloÄŸu -->
  <dialog id="subtitle-action-dialog" aria-labelledby="sub-action-title">
    <form method="dialog">
      <h2 id="sub-action-title">AltyazÄ± Ä°ÅŸlemi</h2>
      <p>YÃ¼klenen altyazÄ± dosyasÄ±yla ne yapmak istersiniz?</p>

      <div class="form-group" style="display: flex; flex-direction: column; gap: 15px;">
        <label class="radio-option" style="padding: 10px; border: 1px solid #444; border-radius: 4px; cursor: pointer;">
          <input type="radio" name="sub-action" value="burn">
          <strong>A) AltyazÄ±yÄ± Videoya GÃ¶m</strong>
          <div style="font-size: 0.9em; opacity: 0.8; margin-top: 5px;">Sadece alt yazÄ± eklenir, seslendirme yapÄ±lmaz.
          </div>
        </label>

        <label class="radio-option" style="padding: 10px; border: 1px solid #444; border-radius: 4px; cursor: pointer;">
          <input type="radio" name="sub-action" value="tts-only" checked>
          <strong>B) Sadece Seslendir (TTS)</strong>
          <div style="font-size: 0.9em; opacity: 0.8; margin-top: 5px;">AltyazÄ± ses dosyasÄ±nÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lÃ¼p videoya
            eklenir. YazÄ± videoda gÃ¶rÃ¼nmez.</div>
        </label>

        <label class="radio-option" style="padding: 10px; border: 1px solid #444; border-radius: 4px; cursor: pointer;">
          <input type="radio" name="sub-action" value="tts-burn">
          <strong>C) Hem Seslendir Hem GÃ¶m</strong>
          <div style="font-size: 0.9em; opacity: 0.8; margin-top: 5px;">AltyazÄ± hem okunur hem de videoda yazÄ±lÄ± olarak
            gÃ¶rÃ¼nÃ¼r.</div>
        </label>
      </div>

      <div class="dialog-buttons">
        <button type="button" id="sub-action-confirm">Devam Et</button>
        <button type="button" id="sub-action-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- AltyazÄ± Seslendirme SeÃ§enekleri (GÃ¼ncellenmiÅŸ) -->
  <dialog id="subtitle-tts-options-dialog" aria-labelledby="subtitle-tts-title">
    <form method="dialog">
      <h2 id="subtitle-tts-title">Seslendirme AyarlarÄ±</h2>
      <p id="subtitle-preview-text"
        style="font-style: italic; color: #aaa; margin: 10px 0; border-left: 2px solid #555; padding-left: 10px;"></p>
      <p>Seslendirme iÃ§in kullanÄ±lacak ses ve hÄ±z ayarlarÄ±nÄ± yapÄ±n.</p>

      <div class="form-group">
        <label for="subtitle-tts-voice">Seslendirme Sesi:</label>
        <select id="subtitle-tts-voice">
          <option value="">VarsayÄ±lan</option>
          <!-- Dinamik doldurulacak -->
        </select>
      </div>

      <div class="form-group">
        <label for="subtitle-tts-speed">KonuÅŸma HÄ±zÄ±:</label>
        <input type="range" id="subtitle-tts-speed" min="50" max="200" value="100"
          aria-describedby="subtitle-tts-speed-val">
        <span id="subtitle-tts-speed-val">%100</span>
      </div>

      <div class="form-group">
        <label for="subtitle-tts-volume">TTS Ses Seviyesi:</label>
        <input type="range" id="subtitle-tts-volume" min="0" max="100" value="100"
          aria-describedby="subtitle-tts-volume-val">
        <span id="subtitle-tts-volume-val">%100</span>
      </div>

      <!-- YENÄ°: Video Ses Seviyesi -->
      <div class="form-group" style="margin-top: 20px; border-top: 1px solid #444; padding-top: 20px;">
        <label for="subtitle-original-volume">Orijinal Film Sesi (%):</label>
        <input type="range" id="subtitle-original-volume" min="0" max="100" value="80"
          aria-describedby="subtitle-original-volume-val">
        <span id="subtitle-original-volume-val">%80</span>
        <p class="hint">Filmin arka plan sesinin ne kadar duyulacaÄŸÄ±nÄ± belirler. (0 = Sessiz, 100 = Tam Ses)</p>
      </div>

      <div class="dialog-buttons">
        <button type="button" id="subtitle-tts-preview-btn">Dinle (Test Et)</button>
        <button type="button" id="subtitle-tts-confirm">SeÃ§ilen Ayarlarla BaÅŸlat</button>
        <button type="button" id="subtitle-tts-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Nesne Analiz ve Uygulama DiyaloÄŸu -->
  <dialog id="object-analysis-dialog" aria-labelledby="object-analysis-title" style="width: 700px; max-width: 95vw;">
    <form method="dialog" style="display: flex; flex-direction: column; height: 80vh;">
      <h2 id="object-analysis-title">Sahneyi Analiz Et ve Nesneye Uygula</h2>

      <div style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
        <!-- Analiz AyarlarÄ± -->
        <div class="form-group" style="padding-bottom: 10px; border-bottom: 1px solid #444;">
          <label for="analysis-duration">Analiz SÃ¼resi (Ä°mleÃ§ EtrafÄ±):</label>
          <div style="display: flex; gap: 10px; align-items: center;">
            <select id="analysis-duration" style="flex: 1;">
              <option value="3">3 Saniye</option>
              <option value="5" selected>5 Saniye (VarsayÄ±lan)</option>
              <option value="10">10 Saniye</option>
            </select>
            <button type="button" id="start-analysis-btn">Analizi BaÅŸlat</button>
          </div>
          <p style="margin-top: 5px;"><span id="analysis-status-text" aria-live="polite">Analiz bekleniyor...</span></p>
        </div>

        <!-- SonuÃ§lar Listesi -->
        <h3 style="margin: 10px 0 5px 0;">Tespit Edilen Nesneler <small>(Oklar: gezin, S: seÃ§/kaldÄ±r, A: tÃ¼mÃ¼nÃ¼
            seÃ§)</small></h3>
        <div class="list-container"
          style="flex: 1; border: 1px solid #555; overflow-y: auto; margin-bottom: 15px; background: #000;">
          <ul id="object-list" role="listbox" aria-label="Nesne Listesi" aria-multiselectable="true" tabindex="0">
            <li class="empty-message" style="padding: 10px; color: #888;">HenÃ¼z analiz yapÄ±lmadÄ±.</li>
          </ul>
        </div>

        <!-- Nesne DetaylarÄ± ve Etiketleme -->
        <div id="object-details-panel" class="form-group" style="background: #222; padding: 10px; border-radius: 4px;"
          aria-live="polite">
          <p><strong>SeÃ§ili Nesne:</strong> <span id="obj-detail-label">-</span></p>
          <p><strong>Konum:</strong> <span id="obj-detail-pos">-</span></p>
          <p><strong>SÃ¼re:</strong> <span id="obj-detail-time">-</span></p>
          <div style="margin-top: 10px;">
            <button type="button" id="ai-label-btn" disabled>Yapay Zeka ile Etiketle (Gemini)</button>
          </div>
        </div>

        <!-- Ä°ÅŸlemler -->
        <h3 style="margin: 10px 0 5px 0;">Uygulanacak Ä°ÅŸlem</h3>
        <div class="form-group">
          <label for="object-action-type">Ä°ÅŸlem TÃ¼rÃ¼:</label>
          <select id="object-action-type">
            <option value="hide">Gizle (Siyah Kutu)</option>
            <option value="box">Kutu Ä°Ã§ine Al (KÄ±rmÄ±zÄ± Ã‡erÃ§eve)</option>
            <option value="mosaic">BulanÄ±klaÅŸtÄ±r (Gri Mozaik Maske)</option>
            <option value="blur">YarÄ± Åeffaf (Blur SimÃ¼lasyonu)</option>
            <option value="greenscreen">YeÅŸil Perde (Chroma Key)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="object-action-scope">Uygulama AralÄ±ÄŸÄ±:</label>
          <select id="object-action-scope">
            <option value="track">Nesne GÃ¶rÃ¼ndÃ¼ÄŸÃ¼ SÃ¼rece (Analiz AralÄ±ÄŸÄ±nda)</option>
            <option value="full">TÃ¼m Klip Boyunca</option>
            <option value="custom">Manuel Zaman AralÄ±ÄŸÄ±</option>
          </select>
        </div>

        <div id="custom-time-range" class="form-group" style="display: none;">
          <label>Zaman AralÄ±ÄŸÄ± (saniye):</label>
          <div style="display: flex; gap: 10px; align-items: center;">
            <input type="number" id="custom-start-time" min="0" step="0.1" value="0" style="width: 80px;"
              aria-label="BaÅŸlangÄ±Ã§">
            <span>-</span>
            <input type="number" id="custom-end-time" min="0" step="0.1" value="10" style="width: 80px;"
              aria-label="BitiÅŸ">
            <span>saniye</span>
          </div>
        </div>
      </div>

      <div class="dialog-buttons" style="margin-top: 15px;">
        <button type="button" id="object-preview-btn" disabled>Ã–nizle (Alt+P)</button>
        <button type="button" id="object-apply-btn" disabled>Videoya Uygula</button>
        <button type="button" id="object-close-btn">Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- Klavye YÃ¶neticisi Dialog -->
  <dialog id="keyboard-manager-dialog" aria-labelledby="keyboard-manager-title"
    style="width: 800px; max-width: 90vw; height: 80vh;">
    <form method="dialog" style="display: flex; flex-direction: column; height: 100%;">
      <h2 id="keyboard-manager-title">Klavye KÄ±sayol YÃ¶neticisi</h2>
      <p class="dialog-description">KÄ±sayollarÄ± dÃ¼zenlemek iÃ§in bir kategori ve ardÄ±ndan bir iÅŸlem seÃ§in. SeÃ§tiÄŸiniz
        kÄ±sayolu dÃ¼zenlemek iÃ§in saÄŸ tÄ±klayÄ±n veya saÄŸ ok tuÅŸuna basÄ±n.</p>

      <div class="manager-layout" style="display: flex; flex: 1; gap: 20px; overflow: hidden; margin-bottom: 20px;">
        <!-- Sol Panel: Kategoriler -->
        <div class="manager-sidebar"
          style="width: 250px; border-right: 1px solid #444; padding-right: 10px; display: flex; flex-direction: column;">
          <h3 style="margin-top: 0;">Kategoriler</h3>
          <ul id="keyboard-categories-list" role="listbox" aria-label="Kategoriler" tabindex="0"
            style="list-style: none; padding: 0; margin: 0; overflow-y: auto; flex: 1;">
            <!-- Dinamik -->
          </ul>
        </div>

        <!-- SaÄŸ Panel: KÄ±sayollar -->
        <div class="manager-content" style="flex: 1; display: flex; flex-direction: column;">
          <h3 style="margin-top: 0;">KÄ±sayollar</h3>
          <ul id="keyboard-shortcuts-list" role="listbox" aria-label="KÄ±sayol Listesi" tabindex="0"
            style="list-style: none; padding: 0; margin: 0; overflow-y: auto; flex: 1;">
            <!-- Dinamik -->
          </ul>
        </div>
      </div>

      <div class="dialog-footer"
        style="display: flex; justify-content: space-between; align-items: center; padding-top: 15px; border-top: 1px solid #444;">
        <div class="left-buttons" style="display: flex; gap: 10px;">
          <button type="button" id="keyboard-manager-reset-all">SÄ±fÄ±rla</button>
          <button type="button" id="keyboard-manager-import">Ä°Ã§e Aktar</button>
          <button type="button" id="keyboard-manager-export">DÄ±ÅŸa Aktar</button>
        </div>
        <div class="right-buttons" style="display: flex; gap: 10px;">
          <button type="button" id="keyboard-manager-save" class="primary">Kaydet</button>
          <button type="button" id="keyboard-manager-cancel">Ä°ptal</button>
        </div>
      </div>
    </form>
  </dialog>

  <!-- JavaScript dosyalarÄ± -->
  <script src="scripts/object-analysis-ui.js"></script>
  <script src="scripts/settings.js"></script>
  <script src="scripts/accessibility.js"></script>
  <script src="scripts/utils.js"></script>
  <script src="scripts/insertion-queue.js"></script>
  <script src="scripts/timeline.js"></script>
  <script src="scripts/video-player.js"></script>
  <script src="scripts/markers.js"></script>
  <script src="scripts/transitions.js"></script>
  <script src="scripts/selection.js"></script>
  <script src="scripts/keyboard.js"></script>
  <script src="scripts/dialogs.js"></script>
  <script src="scripts/tab-manager.js"></script>
  <script src="scripts/status-bar.js"></script>
  <script src="scripts/app.js"></script>
  <script src="scripts/cta-library.js"></script>
  <script src="scripts/cta-overlay-preview.js"></script>
  <!-- CTA / Overlay Library Dialog -->
  <dialog id="cta-library-dialog" aria-labelledby="cta-library-title"
    style="width: 900px; max-width: 95vw; height: 85vh;">
    <form method="dialog" style="height: 100%; display: flex; flex-direction: column;">
      <h2 id="cta-library-title">CTA / Overlay KÃ¼tÃ¼phanesi</h2>

      <div class="cta-container" style="flex: 1; display: flex; gap: 20px; overflow: hidden; margin-bottom: 20px;">
        <!-- Categories Sidebar -->
        <aside class="cta-sidebar"
          style="width: 200px; border-right: 1px solid #444; padding-right: 10px; display: flex; flex-direction: column;">
          <h3 style="margin-top: 0; font-size: 1.1rem; color: var(--accent-color);">Kategoriler</h3>
          <ul id="cta-categories-list" role="listbox" aria-label="Kategoriler"
            style="list-style: none; padding: 0; margin: 0; flex: 1;">
            <li role="option" data-category="all" class="selected" tabindex="0">TÃ¼mÃ¼</li>
            <li role="option" data-category="like" tabindex="-1">BeÄŸen (Like)</li>
            <li role="option" data-category="subscribe" tabindex="-1">Abone Ol (Subscribe)</li>
            <li role="option" data-category="bell" tabindex="-1">Bildirim (Bell)</li>
            <li role="option" data-category="package" tabindex="-1">Paketler (Like+Sub)</li>
            <li role="option" data-category="share" tabindex="-1">PaylaÅŸ (Share)</li>
          </ul>
          <button type="button" id="cta-import-btn" style="margin-top: 10px;">DÄ±ÅŸarÄ±dan Ekle...</button>
        </aside>

        <!-- Main Content: Grid + Preview -->
        <div class="cta-main" style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
          <!-- Grid -->
          <div id="cta-grid" role="grid" aria-label="Overlay listesi"
            style="flex: 1; overflow-y: auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; padding: 5px; align-content: start;">
            <!-- Items will be injected here via JS -->
          </div>

          <!-- Preview & Settings Panel -->
          <div id="cta-preview-panel"
            style="height: 250px; border-top: 1px solid #444; padding-top: 15px; margin-top: 15px; display: flex; gap: 20px;">

            <!-- Video Preview -->
            <div class="preview-box"
              style="width: 200px; background: #000; display: flex; align-items: center; justify-content: center; position: relative;">
              <video id="cta-preview-video" loop autoplay style="max-width: 100%; max-height: 100%;"></video>
              <div id="cta-preview-placeholder">SeÃ§im YapÄ±n</div>
            </div>

            <!-- Settings Controls -->
            <div class="settings-box" style="flex: 1; overflow-y: auto;">
              <div class="form-group grid-2-col" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div>
                  <label for="cta-position">Konum:</label>
                  <select id="cta-position">
                    <option value="bottom-left">Sol Alt</option>
                    <option value="bottom-center">Alt Orta</option>
                    <option value="bottom-right" selected>SaÄŸ Alt</option>
                    <option value="top-left">Sol Ãœst</option>
                    <option value="top-right">SaÄŸ Ãœst</option>
                    <option value="center">Orta (Tam Ekran)</option>
                    <option value="custom">Ã–zel...</option>
                  </select>
                </div>
                <div>
                  <label for="cta-scale">Boyut (%):</label>
                  <input type="number" id="cta-scale" value="100" min="10" max="200" step="5">
                </div>
              </div>

              <div class="form-group">
                <button type="button" id="cta-ai-suggest-btn" class="secondary-btn"
                  style="width: 100%; margin-bottom: 10px;">
                  âœ¨ Yapay Zeka ile Konum/Boyut Ã–ner (Gemini)
                </button>
              </div>

              <div class="form-group grid-2-col" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div>
                  <label for="cta-opacity">OpaklÄ±k (%):</label>
                  <input type="range" id="cta-opacity" value="100" min="10" max="100">
                </div>
                <div>
                  <label for="cta-duration">SÃ¼re (sn):</label>
                  <input type="number" id="cta-duration" value="5" min="1" max="60" step="0.5">
                  <span class="hint" style="font-size: 0.8em;">(0 = Video uzunluÄŸu)</span>
                </div>
              </div>

              <!-- Sound Selector -->
              <div class="form-group">
                <label for="cta-sound">Ses Efekti:</label>
                <select id="cta-sound">
                  <option value="none">Yok (Sessiz)</option>
                  <option value="embedded" selected>VarsayÄ±lan (Videodaki Ses)</option>
                  <!-- Custom sounds will be injected here -->
                </select>
              </div>

              <div class="form-group checkbox-group">
                <input type="checkbox" id="cta-fade">
                <label for="cta-fade">Fade In/Out (YavaÅŸÃ§a belir/kaybol)</label>
              </div>

              <div class="form-group">
                <label for="cta-desc">EriÅŸilebilirlik AÃ§Ä±klamasÄ±:</label>
                <input type="text" id="cta-desc" placeholder="Ã–rn: Abone ol butonu animasyonu">
                <span class="hint" style="font-size: 0.8em; display: block; margin-top: 2px;">Ekran okuyucular iÃ§in
                  betimleme.</span>
              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="dialog-buttons">
        <button type="button" id="cta-add-timeline">Zaman Ã‡izelgesine Ekle</button>
        <button type="button" id="cta-cancel">Ä°ptal</button>
      </div>
    </form>
  </dialog>

  <!-- Video KatmanÄ± SihirbazÄ± -->
  <dialog id="video-layer-wizard-dialog" aria-labelledby="video-layer-wizard-title"
    style="width: 800px; max-width: 95vw; height: 85vh;">
    <!-- ... (Mevcut Video Layer Wizard iÃ§eriÄŸi buraya gelecek, dokunmuyoruz) ... -->
    <form method="dialog">
      <h2 id="video-layer-wizard-title">Video KatmanÄ± Ekle</h2>
      <p>Bu Ã¶zellik henÃ¼z yapÄ±m aÅŸamasÄ±ndadÄ±r.</p>
      <div class="dialog-buttons">
        <button type="button" id="video-layer-wizard-close">Kapat</button>
      </div>
    </form>
  </dialog>

  <!-- Ses KayÄ±t AracÄ± -->
  <dialog id="audio-recorder-dialog" aria-labelledby="audio-recorder-title"
    style="width: 500px; padding: 20px; border-radius: 8px; border: 1px solid #444; background: #222; color: #fff;">
    <h2 id="audio-recorder-title" style="margin-top: 0; border-bottom: 1px solid #444; padding-bottom: 10px;">Ses Ekle /
      Kaydet</h2>

    <div style="margin-bottom: 15px;">
      <label for="rec-mic-select" style="display:block; margin-bottom: 5px; font-size: 0.9em; color: #ccc;">Mikrofon
        SeÃ§in:</label>
      <select id="rec-mic-select"
        style="width: 100%; padding: 8px; background: #333; color: #fff; border: 1px solid #555; border-radius: 4px;">
        <option value="">VarsayÄ±lan Mikrofon</option>
      </select>
    </div>

    <div style="text-align: center; padding: 20px 0;">
      <div id="recorder-timer" style="font-size: 3em; font-family: monospace; font-weight: bold; margin-bottom: 10px;">
        00:00</div>
      <div id="recorder-status" style="color: #aaa; margin-bottom: 10px;">KayÄ±t Bekleniyor</div>
      <div id="recorder-markers-info" style="font-size: 0.9em; color: var(--accent-color);">0 Ä°ÅŸaretÃ§i</div>

      <!-- Gizli Player -->
      <audio id="recorder-preview-player" style="display: none;"></audio>
    </div>

    <div class="dialog-buttons" style="justify-content: center; gap: 15px; margin-bottom: 20px;">
      <button type="button" id="rec-record-btn" class="icon-btn" style="min-width: 120px;">Kaydet (R)</button>
      <button type="button" id="rec-stop-btn" disabled>Durdur (S)</button>
      <button type="button" id="rec-play-btn" disabled
        aria-label="Dinle. Oynat/duraklat: K. Ä°leri/geri sar: L, J. Ä°ÅŸaretÃ§i koy: M. Sesi dÃ¼zenle baÄŸlam menÃ¼sÃ¼ veya tab.">Dinle
        (K)</button>
      <button type="button" id="rec-edit-btn" disabled>DÃ¼zenle</button>
      <button type="button" id="rec-reset-btn" disabled>SÄ±fÄ±rla</button>
    </div>

    <div class="dialog-footer"
      style="border-top: 1px solid #444; padding-top: 15px; display: flex; justify-content: flex-end; gap: 10px;">
      <button type="button" id="rec-next-btn" class="primary" disabled>Ä°leri ></button>
      <button type="button" id="rec-cancel-btn">Ä°ptal</button>
    </div>
  </dialog>

  <script src="scripts/audio-recorder.js"></script>
</body>

</html>